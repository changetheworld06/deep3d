<!DOCTYPE html>
<html lang="fr">
  <head>

    <meta charset="UTF-8">
    <title>Deep3D ‚Äì Tests 3D, STL, Guides & Inspirations Makers</title>
    <meta name="description" content="Deep3D ‚Äì Tests, projets et inspirations autour de l'impression 3D. D√©couvrez nos articles, s√©lections de fichiers STL, et guides pour makers.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Deep3D">
    <meta name="robots" content="index, follow">
    <meta name="keywords" content="impression 3D, fichiers STL, projets 3D, tests imprimantes, guides makers, Deep3D, DIY, fabrication num√©rique">
    <meta name="google-adsense-account" content="ca-pub-2161270640127476">
  
    <!-- Open Graph pour Facebook & r√©seaux sociaux -->
    <meta property="og:title" content="Deep3D ‚Äì Tests & projets 3D, fichiers STL, guides & inspirations pour makers">
    <meta property="og:description" content="D√©couvrez nos tests, projets d'impression 3D, fichiers STL et guides pratiques.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.deep3d.fr/"> <!-- Remplace par ton URL r√©elle -->
    <meta property="og:image" content="{{ url_for('static', filename='images/og-image.jpg') }}"> <!-- Image de partage -->
  
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Deep3D ‚Äì Tests & projets 3D, fichiers STL, guides & inspirations pour makers">
    <meta name="twitter:description" content="Tests d'imprimantes 3D, fichiers STL, guides pour makers.">
    <meta name="twitter:image" content="{{ url_for('static', filename='images/og-image.jpg') }}">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
    <!-- Favicon et ic√¥nes -->
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/apple-touch-icon.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}"> <!-- Pour PWA √©ventuelle -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  
    <!-- Canonical URL -->
    <link rel="canonical" href="https://deep3d.fr/"> <!-- Remplace par ton URL exacte -->
  
    <!-- Feuille de style -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  
<!-- Bandeau cookie RGPD -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="preconnect" href="https://pagead2.googlesyndication.com">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>

<style>
/* Positionnement et style du bandeau */
.cc-window {
  max-width: 600px !important;
  width: 90% !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  position: fixed !important;
  z-index: 10000 !important;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.5) !important;
  text-align: center;

  /* Transparence ajout√©e ici */
  background-color: rgba(130, 34, 34, 0.50) !important; /* noir 85% opaque */
  backdrop-filter: blur(4px); /* optionnel : effet flout√© derri√®re */
}

/* Bouton Accepter */
.cc-btn.cc-allow {
  background-color: #f1d600 !important;
  color: #000 !important;
  font-weight: bold;
  padding: 10px 20px !important;
  border-radius: 4px;
  margin: 5px;
}

/* Masquer le vrai bouton Refuser */
.cc-btn.cc-deny {
  display: none !important;
}

/* Lien personnalis√© Refuser (discret en haut √† droite) */
.cc-refuser-discret {
  position: absolute;
  top: 8px;
  right: 10px;
  font-size: 0.75em;
  color: #888;
  cursor: pointer;
  text-decoration: underline;
}

/* Lien Modifier mes choix */
.cc-link {
  color: #f1d600 !important;
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
  margin-top: 10px;
}
</style>

<script>
window.addEventListener("load", function () {
  window.cookieconsent.initialise({
    palette: {
      popup: { background: "#000" },
      button: { background: "#f1d600", text: "#000" }
    },
    theme: "classic",
    type: "opt-in",
    revokable: true,
    content: {
      message: "Ce site utilise des cookies pour mesurer l‚Äôaudience et afficher de la publicit√© personnalis√©e.",
      allow: "Accepter",
      deny: "", // on masque
      link: "Modifier mes choix",
      href: "#"
    },
    onInitialise: function (status) {
      if (status === cookieconsent.status.allow) loadScripts();
    },
    onStatusChange: function (status) {
      if (status === cookieconsent.status.allow) loadScripts();
    },
    onPopupOpen: function () {
      // Injecter le lien discret "Refuser"
      const popup = document.querySelector('.cc-window');
      if (popup && !document.querySelector('.cc-refuser-discret')) {
        const denyLink = document.createElement('div');
        denyLink.className = 'cc-refuser-discret';
        denyLink.innerText = 'Refuser les cookies';
        denyLink.onclick = function () {
          window.cookieconsent.setStatus('deny');
          window.cookieconsent.close();
        };
        popup.appendChild(denyLink);
      }

      // "Modifier mes choix"
      const link = document.querySelector(".cc-link");
      if (link) {
        link.addEventListener("click", function (e) {
          e.preventDefault();
          window.cookieconsent.showPreferences();
        });
      }
    }
  });

  function loadScripts() {
    // Google Analytics
    var ga = document.createElement("script");
    ga.src = "https://www.googletagmanager.com/gtag/js?id=G-LHVQ0VS1FQ";
    ga.async = true;
    document.head.appendChild(ga);

    var gtag = document.createElement("script");
    gtag.innerHTML = `
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-LHVQ0VS1FQ');
    `;
    document.head.appendChild(gtag);

    // Google AdSense
    var ads = document.createElement("script");
    ads.async = true;
    ads.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2161270640127476";
    ads.crossOrigin = "anonymous";
    document.head.appendChild(ads);
  }
});
</script>
  </head>

<body>

<header>
  <div class="header-container">
    <a href="/" class="logo-link" aria-label="Accueil">
      <img src="{{ url_for('static', filename='images/logo.png') }}" class="logo" alt="Logo Deep3D">
    </a>
    <nav class="navbar-links" role="navigation" aria-label="Menu principal">
      <a href="/">Accueil</a>
      <a href="/articles">Articles</a>
      <a href="/impressions">Impressions 3D</a>
      <a href="/tests">Tests</a>
      <a href="{{ url_for('news') }}">News</a>
      <a href="{{ url_for('guide') }}">Guide</a>
    </nav>
  </div>
</header>

<main>
  {% block content %}{% endblock %}
</main>

<footer>
  <p>&copy; {{ current_year }} Deep3D ‚Äì Tous droits r√©serv√©s.</p>
  <p><a href="/mentions-legales">Mentions l√©gales</a> ‚Äì <a href="/confidentialite">Politique de confidentialit√©</a></p>
  <p style="font-size: 0.9em; color: #888;">
    Site con√ßu avec üí° par <a href="https://vitrineboost.fr" target="_blank" rel="noopener noreferrer">VitrineBoost.fr</a>
  </p>
</footer>

<script src="{{ url_for('static', filename='js/interactions.js') }}" defer></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    fetch("/likes")
      .then(res => res.json())
      .then(data => {
        document.querySelectorAll(".like-btn").forEach(btn => {
          const projet = btn.dataset.projet;
          const countSpan = btn.querySelector(".like-count");
          countSpan.innerText = data[projet] ?? 0;

          if (localStorage.getItem("liked-" + projet) === "true") {
            btn.classList.add("liked");
          }

          btn.addEventListener("click", () => {
            const liked = btn.classList.contains("liked");
            const action = liked ? "unlike" : "like";

            fetch("/like/" + projet, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ action })
            })
            .then(res => res.json())
            .then(data => {
              countSpan.innerText = data.likes;
              btn.classList.toggle("liked");
              localStorage.setItem("liked-" + projet, !liked);
            });
          });
        });
      });

    document.querySelectorAll(".share-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const url = btn.dataset.url;
        navigator.clipboard.writeText(url).then(() => {
          btn.textContent = "‚úÖ Lien copi√© !";
          setTimeout(() => {
            btn.textContent = "üì§ Partager";
          }, 2000);
        });
      });
    });
  });
</script>

</body>
</html>